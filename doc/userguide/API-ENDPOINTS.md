# Rote API æ¥å£å®Œæ•´è¡¨

## æ¦‚è¿°

æœ¬æ–‡æ¡£åŒ…å« Rote ç³»ç»Ÿçš„æ‰€æœ‰ API æ¥å£ï¼ŒåŒ…æ‹¬å·²å®ç°çš„ v2 ç‰ˆæœ¬ RESTful æ¥å£ã€æœç´¢åŠŸèƒ½æ¥å£å’Œå…¼å®¹çš„ v1 æ¥å£ã€‚

## åŸºç¡€ä¿¡æ¯

- **åŸºç¡€ URL**: `/v2/api`
- **å“åº”æ ¼å¼**: JSON
- **è®¤è¯æ–¹å¼**: Session è®¤è¯ / API å¯†é’¥è®¤è¯

### æ ‡å‡†å“åº”æ ¼å¼

```json
{
  "code": 0,         // ä¸šåŠ¡çŠ¶æ€ç ï¼Œ0è¡¨ç¤ºæˆåŠŸ
  "message": "...",  // çŠ¶æ€æè¿°
  "data": { ... }    // ä¸šåŠ¡æ•°æ®
}
```

## API æ¥å£åˆ—è¡¨

### 1. ç³»ç»Ÿç›¸å…³

| æ¥å£è·¯å¾„        | HTTP æ–¹æ³• | è®¤è¯è¦æ±‚ | æè¿°             | ç‰ˆæœ¬ |
| --------------- | --------- | -------- | ---------------- | ---- |
| `/health`       | GET       | æ—        | å¥åº·æ£€æŸ¥         | v2   |
| `/site/sitemap` | GET       | æ—        | è·å–ç«™ç‚¹åœ°å›¾æ•°æ® | v2   |
| `/site/status`  | GET       | æ—        | è·å–ç«™ç‚¹çŠ¶æ€     | v2   |

### 2. è®¤è¯ç›¸å…³

| æ¥å£è·¯å¾„         | HTTP æ–¹æ³• | è®¤è¯è¦æ±‚ | æè¿°     | ç‰ˆæœ¬ |
| ---------------- | --------- | -------- | -------- | ---- |
| `/auth/register` | POST      | æ—        | ç”¨æˆ·æ³¨å†Œ | v2   |
| `/auth/login`    | POST      | æ—        | ç”¨æˆ·ç™»å½• | v2   |
| `/auth/logout`   | POST      | éœ€è¦ç™»å½• | ç”¨æˆ·ç™»å‡º | v2   |
| `/auth/password` | PUT       | éœ€è¦ç™»å½• | ä¿®æ”¹å¯†ç  | v2   |

### 3. ç”¨æˆ·ç›¸å…³

| æ¥å£è·¯å¾„               | HTTP æ–¹æ³• | è®¤è¯è¦æ±‚ | æè¿°               | ç‰ˆæœ¬ |
| ---------------------- | --------- | -------- | ------------------ | ---- |
| `/users/:username`     | GET       | æ—        | è·å–ç”¨æˆ·ä¿¡æ¯       | v2   |
| `/users/me/profile`    | GET       | éœ€è¦ç™»å½• | è·å–å½“å‰ç”¨æˆ·èµ„æ–™   | v2   |
| `/users/me/profile`    | PUT       | éœ€è¦ç™»å½• | æ›´æ–°å½“å‰ç”¨æˆ·èµ„æ–™   | v2   |
| `/users/me/sessions`   | GET       | éœ€è¦ç™»å½• | è·å–å½“å‰ç”¨æˆ·ä¼šè¯   | v2   |
| `/users/me/tags`       | GET       | éœ€è¦ç™»å½• | è·å–å½“å‰ç”¨æˆ·æ ‡ç­¾   | v2   |
| `/users/me/heatmap`    | GET       | éœ€è¦ç™»å½• | è·å–ç”¨æˆ·çƒ­åŠ›å›¾æ•°æ® | v2   |
| `/users/me/statistics` | GET       | éœ€è¦ç™»å½• | è·å–ç”¨æˆ·ç»Ÿè®¡ä¿¡æ¯   | v2   |
| `/users/me/export`     | GET       | éœ€è¦ç™»å½• | å¯¼å‡ºç”¨æˆ·æ•°æ®       | v2   |
| `/users/:username/rss` | GET       | æ—        | è·å–ç”¨æˆ· RSS è®¢é˜…  | v2   |

### 4. RSS ç›¸å…³

| æ¥å£è·¯å¾„               | HTTP æ–¹æ³• | è®¤è¯è¦æ±‚ | æè¿°                 | ç‰ˆæœ¬ |
| ---------------------- | --------- | -------- | -------------------- | ---- |
| `/users/:username/rss` | GET       | æ—        | è·å–ç”¨æˆ· RSS è®¢é˜…    | v2   |
| `/rss/public`          | GET       | æ—        | è·å–æ‰€æœ‰å…¬å¼€ç¬”è®° RSS | v2   |

#### RSS åŠŸèƒ½è¯´æ˜

- **ç”¨æˆ· RSS**: è·å–æŒ‡å®šç”¨æˆ·çš„æ‰€æœ‰å…¬å¼€ç¬”è®° RSS è®¢é˜…
- **å…¬å¼€ RSS**: è·å–å…¨ç«™æ‰€æœ‰ç”¨æˆ·çš„å…¬å¼€ç¬”è®° RSS è®¢é˜…
- **è¾“å‡ºæ ¼å¼**: RSS 2.0 æ ‡å‡†æ ¼å¼
- **Content-Type**: `application/xml`
- **è‡ªåŠ¨æ›´æ–°**: RSS å†…å®¹ä¼šæ ¹æ®ç¬”è®°çš„åˆ›å»ºå’Œæ›´æ–°æ—¶é—´è‡ªåŠ¨åˆ·æ–°

### 5. ç¬”è®°ç›¸å…³

| æ¥å£è·¯å¾„                 | HTTP æ–¹æ³• | è®¤è¯è¦æ±‚ | æè¿°                   | ç‰ˆæœ¬ |
| ------------------------ | --------- | -------- | ---------------------- | ---- |
| `/notes`                 | POST      | éœ€è¦ç™»å½• | åˆ›å»ºç¬”è®°               | v2   |
| `/notes`                 | GET       | éœ€è¦ç™»å½• | è·å–å½“å‰ç”¨æˆ·çš„ç¬”è®°åˆ—è¡¨ | v2   |
| `/notes/:id`             | GET       | åŠ¨æ€     | è·å–ç¬”è®°è¯¦æƒ…           | v2   |
| `/notes/:id`             | PUT       | éœ€è¦ç™»å½• | æ›´æ–°ç¬”è®°               | v2   |
| `/notes/:id`             | DELETE    | éœ€è¦ç™»å½• | åˆ é™¤ç¬”è®°               | v2   |
| `/notes/random`          | GET       | æ—        | è·å–éšæœºç¬”è®°           | v2   |
| `/notes/public`          | GET       | æ—        | è·å–æ‰€æœ‰å…¬å¼€ç¬”è®°       | v2   |
| `/notes/users/:username` | GET       | æ—        | è·å–ç”¨æˆ·å…¬å¼€ç¬”è®°       | v2   |

#### ç¬”è®°æŸ¥è¯¢å‚æ•°

- `skip`: è·³è¿‡çš„ç¬”è®°æ•°é‡ï¼ˆåˆ†é¡µï¼‰
- `limit`: è¿”å›çš„ç¬”è®°æ•°é‡é™åˆ¶ï¼ˆé»˜è®¤ 20ï¼‰
- `archived`: æ˜¯å¦åŒ…å«å·²å½’æ¡£ç¬”è®° (true/false)
- `tag`: æ ‡ç­¾è¿‡æ»¤ï¼ˆæ”¯æŒå¤šä¸ªæ ‡ç­¾ï¼‰

### 6. æœç´¢ç›¸å…³ ğŸ†•

| æ¥å£è·¯å¾„                        | HTTP æ–¹æ³• | è®¤è¯è¦æ±‚ | æè¿°                   | ç‰ˆæœ¬ |
| ------------------------------- | --------- | -------- | ---------------------- | ---- |
| `/notes/search`                 | GET       | éœ€è¦ç™»å½• | æœç´¢å½“å‰ç”¨æˆ·çš„ç¬”è®°     | v2   |
| `/notes/search/public`          | GET       | æ—        | æœç´¢å…¬å¼€ç¬”è®°           | v2   |
| `/notes/search/users/:username` | GET       | æ—        | æœç´¢æŒ‡å®šç”¨æˆ·çš„å…¬å¼€ç¬”è®° | v2   |

#### æœç´¢å‚æ•°

- `keyword` (å¿…éœ€): æœç´¢å…³é”®è¯
- `skip`: è·³è¿‡çš„ç¬”è®°æ•°é‡ï¼ˆåˆ†é¡µï¼‰
- `limit`: è¿”å›çš„ç¬”è®°æ•°é‡é™åˆ¶ï¼ˆé»˜è®¤ 20ï¼‰
- `archived`: æ˜¯å¦æœç´¢å·²å½’æ¡£çš„ç¬”è®° (true/false)
- `tag`: æŒ‰æ ‡ç­¾è¿‡æ»¤ï¼ˆæ”¯æŒå¤šä¸ªæ ‡ç­¾ï¼‰

#### æœç´¢ç‰¹æ€§

- **å¤šå­—æ®µæœç´¢**: åŒæ—¶æœç´¢æ ‡é¢˜ã€å†…å®¹å’Œæ ‡ç­¾
- **ä¸åŒºåˆ†å¤§å°å†™**: æ ‡é¢˜å’Œå†…å®¹æœç´¢ä¸åŒºåˆ†å¤§å°å†™
- **æ ‡ç­¾ç²¾ç¡®åŒ¹é…**: æ ‡ç­¾æœç´¢é‡‡ç”¨ç²¾ç¡®åŒ¹é…
- **OR é€»è¾‘**: å…³é”®è¯åœ¨ä»»ä¸€å­—æ®µåŒ¹é…å³è¿”å›

### 7. ååº”ç³»ç»Ÿç›¸å…³ ğŸ†•

| æ¥å£è·¯å¾„                   | HTTP æ–¹æ³• | è®¤è¯è¦æ±‚ | æè¿°     | ç‰ˆæœ¬ |
| -------------------------- | --------- | -------- | -------- | ---- |
| `/reactions`               | POST      | æ—        | æ·»åŠ ååº” | v2   |
| `/reactions/:roteid/:type` | DELETE    | æ—        | åˆ é™¤ååº” | v2   |

#### ååº”ç³»ç»ŸåŠŸèƒ½è¯´æ˜

- **æ”¯æŒç”¨æˆ·ç±»å‹**: å·²ç™»å½•ç”¨æˆ·å’ŒåŒ¿åè®¿å®¢
- **ååº”ç±»å‹**: æ”¯æŒä»»æ„ emoji è¡¨æƒ…ååº”ï¼ˆå¦‚ï¼šğŸ‘ã€â¤ï¸ã€ğŸ˜Š ç­‰ï¼‰
- **å¤šé‡ååº”**: åŒä¸€ç”¨æˆ·å¯ä»¥å¯¹åŒä¸€ç¬”è®°æ·»åŠ å¤šç§ä¸åŒç±»å‹çš„ååº”
- **è®¿å®¢è¯†åˆ«**: ä½¿ç”¨è®¾å¤‡æŒ‡çº¹æŠ€æœ¯è¯†åˆ«åŒ¿åè®¿å®¢
- **å®æ—¶æ›´æ–°**: ååº”æ•°æ®ä¼šå®æ—¶æ›´æ–°åˆ°ç¬”è®°è¯¦æƒ…ä¸­

#### æ·»åŠ ååº”

```bash
POST /api/v2/reactions
Content-Type: application/json

# å·²ç™»å½•ç”¨æˆ·æ·»åŠ ååº”
{
  "type": "ğŸ‘",
  "roteid": "507f1f77bcf86cd799439011",
  "metadata": {
    "source": "web"
  }
}

# åŒ¿åè®¿å®¢æ·»åŠ ååº”
{
  "type": "â¤ï¸",
  "roteid": "507f1f77bcf86cd799439011",
  "visitorId": "fp_1234567890abcdef",
  "visitorInfo": {
    "browser": "Chrome",
    "os": "macOS"
  },
  "metadata": {
    "source": "web"
  }
}
```

#### åˆ é™¤ååº”

```bash
# å·²ç™»å½•ç”¨æˆ·åˆ é™¤ååº”
DELETE /api/v2/reactions/507f1f77bcf86cd799439011/ğŸ‘

# åŒ¿åè®¿å®¢åˆ é™¤ååº”ï¼ˆéœ€è¦visitorIdå‚æ•°ï¼‰
DELETE /api/v2/reactions/507f1f77bcf86cd799439011/â¤ï¸?visitorId=fp_1234567890abcdef
```

#### å‚æ•°è¯´æ˜

- `type`: ååº”ç±»å‹ï¼Œæ”¯æŒä»»æ„ emoji å­—ç¬¦
- `roteid`: ç¬”è®° IDï¼ˆUUIDï¼‰
- `visitorId`: è®¿å®¢è®¾å¤‡æŒ‡çº¹ IDï¼ˆåŒ¿åç”¨æˆ·å¿…éœ€ï¼‰
- `visitorInfo`: è®¿å®¢ä¿¡æ¯ï¼ˆå¯é€‰ï¼Œç”¨äºç»Ÿè®¡åˆ†æï¼‰
- `metadata`: é™„åŠ å…ƒæ•°æ®ï¼ˆå¯é€‰ï¼‰

### 8. é€šçŸ¥ç›¸å…³

| æ¥å£è·¯å¾„         | HTTP æ–¹æ³• | è®¤è¯è¦æ±‚ | æè¿°     | ç‰ˆæœ¬ |
| ---------------- | --------- | -------- | -------- | ---- |
| `/notifications` | POST      | éœ€è¦ç™»å½• | åˆ›å»ºé€šçŸ¥ | v2   |

### 9. è®¢é˜…ç›¸å…³

| æ¥å£è·¯å¾„                    | HTTP æ–¹æ³• | è®¤è¯è¦æ±‚ | æè¿°         | ç‰ˆæœ¬ |
| --------------------------- | --------- | -------- | ------------ | ---- |
| `/subscriptions`            | POST      | éœ€è¦ç™»å½• | æ·»åŠ è®¢é˜…     | v2   |
| `/subscriptions`            | GET       | éœ€è¦ç™»å½• | è·å–ç”¨æˆ·è®¢é˜… | v2   |
| `/subscriptions/test-all`   | POST      | éœ€è¦ç™»å½• | æµ‹è¯•æ‰€æœ‰ç«¯ç‚¹ | v2   |
| `/subscriptions/:id`        | PUT       | éœ€è¦ç™»å½• | æ›´æ–°è®¢é˜…     | v2   |
| `/subscriptions/:id`        | DELETE    | éœ€è¦ç™»å½• | åˆ é™¤è®¢é˜…     | v2   |
| `/subscriptions/:id/notify` | POST      | æ—        | å‘é€é€šçŸ¥     | v2   |

### 10. API å¯†é’¥ç›¸å…³

| æ¥å£è·¯å¾„        | HTTP æ–¹æ³• | è®¤è¯è¦æ±‚ | æè¿°              | ç‰ˆæœ¬ |
| --------------- | --------- | -------- | ----------------- | ---- |
| `/api-keys`     | POST      | éœ€è¦ç™»å½• | ç”Ÿæˆ API å¯†é’¥     | v2   |
| `/api-keys`     | GET       | éœ€è¦ç™»å½• | è·å–æ‰€æœ‰ API å¯†é’¥ | v2   |
| `/api-keys/:id` | PUT       | éœ€è¦ç™»å½• | æ›´æ–° API å¯†é’¥     | v2   |
| `/api-keys/:id` | DELETE    | éœ€è¦ç™»å½• | åˆ é™¤ API å¯†é’¥     | v2   |

### 11. é™„ä»¶ç›¸å…³

| æ¥å£è·¯å¾„                | HTTP æ–¹æ³• | è®¤è¯è¦æ±‚ | æè¿°                          | ç‰ˆæœ¬ |
| ----------------------- | --------- | -------- | ----------------------------- | ---- |
| `/attachments`          | POST      | éœ€è¦ç™»å½• | æœåŠ¡å™¨ä¸­è½¬ä¸Šä¼ ï¼ˆå…¼å®¹ä¿ç•™ï¼‰    | v2   |
| `/attachments`          | DELETE    | éœ€è¦ç™»å½• | æ‰¹é‡åˆ é™¤é™„ä»¶                  | v2   |
| `/attachments/:id`      | DELETE    | éœ€è¦ç™»å½• | åˆ é™¤å•ä¸ªé™„ä»¶                  | v2   |
| `/attachments/presign`  | POST      | éœ€è¦ç™»å½• | å‰ç«¯ç›´ä¼ ï¼šè·å– PUT é¢„ç­¾åé“¾æ¥ | v2   |
| `/attachments/finalize` | POST      | éœ€è¦ç™»å½• | å‰ç«¯ç›´ä¼ å®Œæˆå›è°ƒå¹¶å†™å…¥æ•°æ®åº“  | v2   |
| `/attachments/sort`     | PUT       | éœ€è¦ç™»å½• | æ›´æ–°é™„ä»¶æ’åº                  | v2   |

#### å‰ç«¯ç›´ä¼ æµç¨‹

1. è¯·æ±‚é¢„ç­¾åé“¾æ¥

```bash
POST /api/v2/attachments/presign
Content-Type: application/json

{
  "files": [
    { "filename": "IMG_001.jpg", "contentType": "image/jpeg", "size": 1234567 },
    { "filename": "shot.png", "contentType": "image/png", "size": 345678 }
  ]
}

# å“åº”ï¼ˆèŠ‚é€‰ï¼‰
{
  "code": 0,
  "message": "success",
  "data": {
    "items": [
      {
        "uuid": "<uuid>",
        "original": { "key": "users/<uid>/uploads/<uuid>.jpg", "putUrl": "...", "url": "..." },
        "compressed": { "key": "users/<uid>/compressed/<uuid>.webp", "putUrl": "...", "url": "..." }
      }
    ]
  }
}
```

2. å‰ç«¯åˆ†åˆ« PUT ä¸Šä¼ åŸå›¾ä¸å‹ç¼©å›¾ï¼ˆå‹ç¼©å›¾ç”±æµè§ˆå™¨ç«¯ç”Ÿæˆ webpï¼‰ï¼Œå®Œæˆåè°ƒç”¨ finalizeï¼š

```bash
POST /api/v2/attachments/finalize
Content-Type: application/json

{
  "noteId": "<å¯é€‰-ç»‘å®šç¬”è®°ID>",
  "attachments": [
    {
      "uuid": "<uuid>",
      "originalKey": "users/<uid>/uploads/<uuid>.jpg",
      "compressedKey": "users/<uid>/compressed/<uuid>.webp",
      "size": 1234567,
      "mimetype": "image/jpeg",
      "hash": "<å¯é€‰-SHA256>"
    }
  ]
}

# å“åº”ï¼ˆèŠ‚é€‰ï¼‰
{
  "code": 0,
  "message": "success",
  "data": [
    {
      "id": "<attachment-id>",
      "url": "https://<R2_URL_PREFIX>/users/<uid>/uploads/<uuid>.jpg",
      "compressUrl": "https://<R2_URL_PREFIX>/users/<uid>/compressed/<uuid>.webp",
      "details": {
        "key": "users/<uid>/uploads/<uuid>.jpg",
        "compressKey": "users/<uid>/compressed/<uuid>.webp",
        "size": 1234567,
        "mimetype": "image/jpeg"
      }
    }
  ]
}
```

è¯´æ˜ï¼š

- é¢„ç­¾åé»˜è®¤æœ‰æ•ˆæœŸçº¦ 15 åˆ†é’Ÿï¼›ä»…å…è®¸å½“å‰ç”¨æˆ·å‘½åç©ºé—´ï¼ˆusers/<uid>/ï¼‰ä¸‹çš„å¯¹è±¡ã€‚
- finalize ä¸ºå¹‚ç­‰ï¼šè‹¥åŒä¸€ originalKey å·²å­˜åœ¨ï¼Œå°†æ›´æ–°å‹ç¼©ä¿¡æ¯ä¸å…ƒæ•°æ®ï¼›å¦åˆ™åˆ›å»ºæ–°è®°å½•ã€‚
- ä»ä¿ç•™ `/attachments` ä½œä¸ºæœåŠ¡å™¨ä¸­è½¬ä¸Šä¼ çš„å…¼å®¹æ¥å£ï¼Œæ¨èå‰ç«¯ç›´ä¼ ä¼˜å…ˆã€‚

3. æ›´æ–°é™„ä»¶æ’åº

```bash
PUT /api/v2/attachments/sort
Content-Type: application/json

{
  "roteId": "note-id",
  "attachmentIds": ["attachment-id-1", "attachment-id-2", "attachment-id-3"]
}
```

å“åº”ï¼š

```json
{
  "code": 0,
  "message": "é™„ä»¶æ’åºæ›´æ–°æˆåŠŸ",
  "data": null
}
```

è¯´æ˜ï¼š

- `roteId`: è¦æ›´æ–°é™„ä»¶æ’åºçš„ç¬”è®° ID
- `attachmentIds`: æŒ‰æ–°æ’åºé¡ºåºæ’åˆ—çš„é™„ä»¶ ID æ•°ç»„
- æ•°ç»„ä¸­çš„é¡ºåºå°†ä½œä¸ºé™„ä»¶çš„ `sortIndex`ï¼ˆä» 0 å¼€å§‹ï¼‰
- åªèƒ½æ›´æ–°å±äºæŒ‡å®šç¬”è®°çš„é™„ä»¶æ’åº

### 12. OpenKey APIï¼ˆAPI å¯†é’¥è®¿é—®ï¼‰

| æ¥å£è·¯å¾„                | HTTP æ–¹æ³• | è®¤è¯è¦æ±‚ | æè¿°                 | ç‰ˆæœ¬ |
| ----------------------- | --------- | -------- | -------------------- | ---- |
| `/openkey/notes/create` | GET       | API å¯†é’¥ | åˆ›å»ºç¬”è®°ï¼ˆå…¼å®¹æ¥å£ï¼‰ | v2   |
| `/openkey/notes`        | POST      | API å¯†é’¥ | åˆ›å»ºç¬”è®°             | v2   |
| `/openkey/notes`        | GET       | API å¯†é’¥ | è·å–ç¬”è®°åˆ—è¡¨         | v2   |
| `/openkey/notes/search` | GET       | API å¯†é’¥ | æœç´¢ç¬”è®° ğŸ†•          | v2   |

#### OpenKey è®¤è¯

åœ¨è¯·æ±‚å¤´ä¸­åŒ…å« API å¯†é’¥ï¼š

```
Authorization: Bearer YOUR_API_KEY
```

## å…¼å®¹æ€§è¯´æ˜

### v1 æ¥å£ï¼ˆå·²åºŸå¼ƒï¼‰

ä¸ºä¿æŒå‘åå…¼å®¹ï¼Œv1 æ¥å£ä»ç„¶å¯ç”¨ï¼Œä½†å»ºè®®è¿ç§»åˆ° v2 æ¥å£ï¼š

- **v1 åŸºç¡€ URL**: `/api/v1`
- **åºŸå¼ƒè®¡åˆ’**: è®¡åˆ’åœ¨æœªæ¥ç‰ˆæœ¬ä¸­ç§»é™¤
- **è¿ç§»æŒ‡å—**: å‚è€ƒ [API-RESTRUCTURING.md](./API-RESTRUCTURING.md)

### ä¸»è¦å·®å¼‚

1. **URL é£æ ¼**: v2 ä½¿ç”¨ kebab-caseï¼Œv1 ä½¿ç”¨ camelCase
2. **HTTP æ–¹æ³•**: v2 ä¸¥æ ¼éµå¾ª RESTful çº¦å®š
3. **å“åº”æ ¼å¼**: v2 ä½¿ç”¨ç»Ÿä¸€çš„å“åº”æ ¼å¼
4. **é”™è¯¯å¤„ç†**: v2 æä¾›æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

## ä½¿ç”¨ç¤ºä¾‹

### æœç´¢ç¬”è®°

```bash
# æœç´¢æˆ‘çš„ç¬”è®°
GET /api/v2/notes/search?keyword=JavaScript&limit=10

# æœç´¢å…¬å¼€ç¬”è®°
GET /api/v2/notes/search/public?keyword=React&tag=æ•™ç¨‹

# æœç´¢ç‰¹å®šç”¨æˆ·çš„ç¬”è®°
GET /api/v2/notes/search/users/john?keyword=API
```

### åˆ›å»ºç¬”è®°

```bash
POST /api/v2/notes
Content-Type: application/json

{
  "title": "æ–°ç¬”è®°",
  "content": "ç¬”è®°å†…å®¹",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
  "state": "public"
}
```

### ä½¿ç”¨ API å¯†é’¥

```bash
GET /api/v2/openkey/notes/search?keyword=test
Authorization: Bearer your-api-key-here
```

### ååº”ç³»ç»Ÿ

```bash
# æ·»åŠ ååº”ï¼ˆå·²ç™»å½•ç”¨æˆ·ï¼‰
POST /api/v2/reactions
Content-Type: application/json

{
  "type": "ğŸ‘",
  "roteid": "507f1f77bcf86cd799439011"
}

# æ·»åŠ ååº”ï¼ˆåŒ¿åè®¿å®¢ï¼‰
POST /api/v2/reactions
Content-Type: application/json

{
  "type": "â¤ï¸",
  "roteid": "507f1f77bcf86cd799439011",
  "visitorId": "fp_1234567890abcdef",
  "visitorInfo": {
    "browser": "Chrome",
    "os": "macOS"
  }
}

# åˆ é™¤ååº”ï¼ˆå·²ç™»å½•ç”¨æˆ·ï¼‰
DELETE /api/v2/reactions/507f1f77bcf86cd799439011/ğŸ‘

# åˆ é™¤ååº”ï¼ˆåŒ¿åè®¿å®¢ï¼‰
DELETE /api/v2/reactions/507f1f77bcf86cd799439011/â¤ï¸?visitorId=fp_1234567890abcdef
```

### RSS è®¢é˜…

```bash
# è·å–ç”¨æˆ·RSSè®¢é˜…
GET /api/v2/users/john/rss

# è·å–æ‰€æœ‰å…¬å¼€ç¬”è®°RSS
GET /api/v2/rss/public
```

## é”™è¯¯å“åº”

### å¸¸è§é”™è¯¯ç 

| HTTP çŠ¶æ€ç  | ä¸šåŠ¡çŠ¶æ€ç  | æè¿°            |
| ----------- | ---------- | --------------- |
| 200         | 0          | æˆåŠŸ            |
| 400         | 400        | è¯·æ±‚å‚æ•°é”™è¯¯    |
| 401         | 401        | æœªæˆæƒ/éœ€è¦ç™»å½• |
| 403         | 403        | æƒé™ä¸è¶³        |
| 404         | 404        | èµ„æºä¸å­˜åœ¨      |
| 500         | 500        | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯  |

### é”™è¯¯å“åº”ç¤ºä¾‹

```json
{
  "code": 400,
  "message": "Keyword is required",
  "data": null
}
```

## æ€§èƒ½å»ºè®®

1. **åˆ†é¡µ**: ä½¿ç”¨ `skip` å’Œ `limit` å‚æ•°è¿›è¡Œåˆ†é¡µ
2. **ç¼“å­˜**: åˆç†ä½¿ç”¨å®¢æˆ·ç«¯ç¼“å­˜
3. **é™æµ**: API å…·æœ‰é€Ÿç‡é™åˆ¶ä¿æŠ¤
4. **æ‰¹é‡æ“ä½œ**: ä¼˜å…ˆä½¿ç”¨æ‰¹é‡åˆ é™¤ç­‰æ‰¹é‡æ¥å£

## æ›´æ–°æ—¥å¿—

### v2.3.0 (æœ€æ–°)

- âœ… æ–°å¢ååº”ç³»ç»ŸåŠŸèƒ½
- âœ… æ”¯æŒå·²ç™»å½•ç”¨æˆ·å’ŒåŒ¿åè®¿å®¢ååº” (`/reactions`)
- âœ… æ”¯æŒä»»æ„ emoji è¡¨æƒ…ååº”
- âœ… æ”¯æŒå¤šé‡ååº”ï¼ˆåŒä¸€ç”¨æˆ·å¯æ·»åŠ å¤šç§ååº”ï¼‰
- âœ… è®¾å¤‡æŒ‡çº¹æŠ€æœ¯è¯†åˆ«åŒ¿åè®¿å®¢
- âœ… ååº”æ•°æ®å®æ—¶æ›´æ–°åˆ°ç¬”è®°è¯¦æƒ…

### v2.2.0

- âœ… æ–°å¢ RSS è®¢é˜…åŠŸèƒ½
- âœ… æ”¯æŒç”¨æˆ· RSS è®¢é˜… (`/users/:username/rss`)
- âœ… æ”¯æŒå…¨ç«™å…¬å¼€ç¬”è®° RSS (`/rss/public`)
- âœ… RSS 2.0 æ ‡å‡†æ ¼å¼è¾“å‡º

### v2.1.0

- âœ… æ–°å¢æœç´¢åŠŸèƒ½æ¥å£
- âœ… æ”¯æŒå…³é”®è¯æœç´¢ç¬”è®°æ ‡é¢˜ã€å†…å®¹å’Œæ ‡ç­¾
- âœ… æ”¯æŒ API å¯†é’¥æœç´¢
- âœ… ä¼˜åŒ–å“åº”æ ¼å¼å’Œé”™è¯¯å¤„ç†

### v2.0.0

- âœ… å®Œæ•´çš„ RESTful API é‡æ„
- âœ… ç»Ÿä¸€å“åº”æ ¼å¼
- âœ… æ”¹è¿›çš„é”™è¯¯å¤„ç†
- âœ… API å¯†é’¥è®¤è¯æ”¯æŒ

---

_æœ€åæ›´æ–°: 2025-06-08_
