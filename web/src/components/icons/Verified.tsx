import { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip';
import type { ComponentProps } from 'react';
import { useTranslation } from 'react-i18next';

interface VerifiedIconProps extends ComponentProps<'svg'> {
  tooltip?: string;
  showTooltip?: boolean;
}

export const VerifiedIcon = ({ tooltip, showTooltip = true, ...props }: VerifiedIconProps) => {
  const { t } = useTranslation('translation', { keyPrefix: 'components.verifiedIcon' });
  const tooltipText = tooltip || t('tooltip');

  const icon = (
    <svg
      width="100"
      height="100"
      viewBox="0 0 100 100"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      {...props}
    >
      <path
        d="M39.3857 7.3866C44.3086 0.0714136 55.0733 0.071413 59.9961 7.3866C62.7844 11.5299 67.7832 13.6006 72.6846 12.6425C81.338 10.951 88.9494 18.5622 87.2578 27.2157C86.2997 32.1171 88.3704 37.1159 92.5137 39.9042C99.8288 44.827 99.8288 55.5917 92.5137 60.5145C88.3704 63.3028 86.2997 68.3016 87.2578 73.203C88.9492 81.8564 81.3379 89.4677 72.6846 87.7762C67.7832 86.8181 62.7844 88.8888 59.9961 93.0321C55.0733 100.347 44.3086 100.347 39.3857 93.0321C36.5975 88.8888 31.5986 86.8181 26.6973 87.7762C18.0439 89.4677 10.4326 81.8564 12.124 73.203C13.0822 68.3016 11.0114 63.3028 6.86816 60.5145C-0.447004 55.5917 -0.446972 44.827 6.86816 39.9042C11.0115 37.1159 13.0822 32.1171 12.124 27.2157C10.4325 18.5622 18.0438 10.9509 26.6973 12.6425C31.5986 13.6006 36.5975 11.5299 39.3857 7.3866ZM65.8682 43.6698C61.7211 43.6696 57.7268 45.1227 54.6836 47.7382C51.6405 50.3536 49.7723 53.9388 49.4531 57.7772L49.4053 60.1288V74.0555C49.4053 75.4542 50.5389 76.5876 51.9375 76.5878C53.3363 76.5878 54.4706 75.4543 54.4707 74.0555V68.5712C54.4707 66.5061 56.1449 64.8319 58.21 64.8319H60.8027C62.9646 64.8319 65.1052 64.4359 67.1025 63.6678C69.0998 62.8998 70.9147 61.7744 72.4434 60.3553C73.972 58.9362 75.1854 57.2515 76.0127 55.3973C76.84 53.5431 77.2656 51.5548 77.2656 49.5477V47.4091C77.2656 45.344 75.5914 43.6698 73.5264 43.6698H65.8682ZM30.3496 34.2645C28.2845 34.2645 26.6104 35.9387 26.6104 38.0038V41.3182C26.6104 45.6834 28.4779 49.8702 31.8027 52.9569C35.1276 56.0436 39.6377 57.7772 44.3398 57.7772C45.7893 57.777 46.9679 56.6474 47.2949 55.2352C47.6328 53.7761 48.1707 52.3595 48.8975 51.0204C49.6204 49.6882 50.5212 48.4498 51.5762 47.3339C52.6821 46.164 53.2354 44.4721 52.4424 43.0712C51.1701 40.8242 49.3489 38.8689 47.1094 37.371C44.0899 35.3515 40.4627 34.2648 36.7412 34.2645H30.3496Z"
        fill="currentColor"
      />
    </svg>
  );

  if (!showTooltip) {
    return icon;
  }

  return (
    <Tooltip>
      <TooltipTrigger asChild>{icon}</TooltipTrigger>
      <TooltipContent sideOffset={4}>{tooltipText}</TooltipContent>
    </Tooltip>
  );
};
